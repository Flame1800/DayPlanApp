(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a(233)},230:function(e,t,a){},233:function(e,t,a){"use strict";a.r(t);var n,r,c,s,l=a(0),i=a.n(l),o=a(48),d=a.n(o),m=a(101),u=a(5),p=a(12),b=a(9),v=a(10),E=a(13),O=a(11),_=a(14),k=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"todo__sidebar"},i.a.createElement("div",{className:"todo__sidebar_list"},i.a.createElement("div",{className:"todo__sidebar_list_item active"},"\u041f\u043b\u0430\u043d\u044b \u043d\u0430 \u0434\u0435\u043d\u044c"),i.a.createElement("div",{className:"todo__sidebar_list_item"},"\u0414\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u0435 \u043f\u043b\u0430\u043d\u044b"),i.a.createElement("div",{className:"todo__sidebar_list_item"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430")))}}]),t}(l.Component),f=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.ballance;return i.a.createElement("div",{className:"navbar"},i.a.createElement("div",{className:"navbar__left"},i.a.createElement("div",{className:"logo"},"DayPlan"),i.a.createElement("div",{className:"navbar__data"},"27 \u0410\u043f\u0440\u0435\u043b\u044f, \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a ",i.a.createElement("br",null),i.a.createElement("span",{className:"data__time"},"18.38")),i.a.createElement("div",{className:"navbar__mode-button"},"\u043a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0440\u0435\u0436\u0438\u043c")),i.a.createElement("div",{className:"navbar__rigth"},i.a.createElement("div",{className:"navbar__money"},i.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/138/138233.svg",alt:"0",className:"money-icon"})," ",e),i.a.createElement("div",{className:"navbar__person"},i.a.createElement("div",{className:"navbar__person__name"},"\u0412\u0430\u0441\u0438\u043b\u0438\u0439 ",i.a.createElement("br",null)," \u041f\u0443\u043f\u043a\u0438\u043d"),i.a.createElement("img",{className:"person__photo",src:"https://img4.goodfon.ru/original/2048x1367/2/4f/lolita-portret-prelest-gubki-lokony.jpg",alt:"person"}))))}}]),t}(l.Component),j=Object(p.b)(function(e){return{ballance:e.ballance}},null)(f),h=a(67),y=a.n(h),N=a(17),S=a.n(N),T=a(31),x=a(238),g=a(32),w=a.n(g),C="http://localhost:3001",I=function(){return[C,"tasksDay"].join("/")},R=function(e){return[C,"tasksDay",e].join("/")},D=Object(x.a)("TASKS_FETCH_REQUEST"),M=Object(x.a)("TASKS_FETCH_SUCCESS"),A=Object(x.a)("TASKS_FETCH_FAILURE"),U=Object(x.a)("TASK_REMOVE_REQUEST"),F=Object(x.a)("TASK_REMOVE_SUCCESS"),K=Object(x.a)("TASK_REMOVE_FAILURE"),L=Object(x.a)("EDIT_TASK"),W=Object(x.a)("COMPLETE_TASK"),B=Object(x.a)("TASK_ADD_SUCCESS"),V=Object(x.a)("ADD_MONEY_SUCCSESS"),H=Object(x.a)("DELETE_MONEY_SUCCSESS"),P=(Object(x.a)("GET_BALLANCE_SUCCESS"),Object(x.a)("GET_CURRENT_USER_SUCCESS"),{removeTask:function(e){var t=e.id;return a=Object(T.a)(S.a.mark(function e(a){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(U()),e.prev=1,n=R(t),e.next=5,w.a.delete(n);case 5:a(F({id:t})),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),a(K()),e.t0;case 12:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return a.apply(this,arguments)};var a},completeTask:function(e){var t=e.task;return a=Object(T.a)(S.a.mark(function e(a){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=R(t.id),r="active"===t.state?"finished":"active",t.state=r,e.next=5,w.a.patch(n,t);case 5:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)};var a},editTask:L,addMoney:V,deleteMoney:H}),q=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleRemoveTask=function(e){return function(){(0,a.props.removeTask)({id:e})}},a.completeTask=function(e){return function(){var t=a.props,n=t.completeTask,r=t.addMoney,c=t.deleteMoney;n({task:e});var s=e.priceWork||e.priceRelax;e.priceWork&&r({price:s}),e.priceRelax&&c({price:s})}},a}return Object(_.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.mode,n=t.tasks,r=t.tasksDayFetchingState;if("requested"===r)return i.a.createElement("div",null,i.a.createElement("span",null,"Loading..."));if("failed"===r)return i.a.createElement("span",null,"Please, reload page!");if(0===n.length)return null;var c=n.filter(function(e){return e.mode===a});return i.a.createElement("div",{className:"tasks"},c.map(function(t){var a="active"!==t.state,n=y()({task__price:!0,"price-work-theme":t.priceWork||!1,"price-relax-theme":t.priceRelax||!1}),r=y()({task:!0,"task-completed":a});return i.a.createElement("div",{className:r,key:t.id},i.a.createElement("div",{className:"task__text"},t.textWork||t.textRelax),i.a.createElement("div",{className:"task__down"},i.a.createElement("div",{className:"task__buttons"},i.a.createElement("div",{className:"icon delete-button",onClick:e.handleRemoveTask(t.id)}),a?"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e":i.a.createElement("div",{className:"icon ready-button",onClick:e.completeTask(t)})),i.a.createElement("div",{className:"items-right"},!a&&i.a.createElement("div",{className:n},t.priceWork||t.priceRelax||0,"$"))))}))}}]),t}(l.Component),G=Object(p.b)(function(e){var t=e.tasksDayFetchingState,a=e.tasksDay,n=a.byId;return{tasks:a.allIds.map(function(e){return n[e]}),tasksDayFetchingState:t}},P)(q),J=a(25),Q=a(236),X=a(234),Y={addTask:function(e){return t=Object(T.a)(S.a.mark(function t(a){var n,r;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=I(),t.next=3,w.a.post(n,e);case 3:r=t.sent,a(B({task:r.data}));case 5:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)};var t}},$=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){return function(t){var n=Object(J.a)({state:"active",mode:e},t);a.props.addTask(n),a.props.reset()}},a}return Object(_.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mode,a=e.handleSubmit,n=e.modalToggler,r=e.text,c=e.price;return i.a.createElement("form",{className:"form-work",onSubmit:a(this.handleSubmit(t))},i.a.createElement("div",{className:"add-task-modal"},i.a.createElement(Q.a,{type:"textarea",name:r,component:"input",className:"add-task-modal__input"}),i.a.createElement("div",{className:"add-task-modal__container"},i.a.createElement("div",{className:"add-task-modal__price"},"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0446\u0435\u043d\u0443:",i.a.createElement(Q.a,{type:"text",name:c,component:"input",className:"add-task-modal__price-input"})),i.a.createElement("input",{type:"time",className:"add-task-modal__set-time"}),i.a.createElement("input",{type:"submit",className:"add-task-modal__acept",value:""}),i.a.createElement("div",{className:"add-task-modal__reset",onClick:n(t)}))))}}]),t}(l.Component),z=Object(p.b)(null,Y)($),Z=Object(X.a)({form:"NewTask"})(z),ee=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).renderButton=function(e){return i.a.createElement("div",{className:"add-task",onClick:a.modalToggler(e)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")},a.modalToggler=function(e){return function(t){t.preventDefault(),"work"===e&&a.setState({workModalOpen:!a.state.workModalOpen}),"relax"===e&&a.setState({relaxModalOpen:!a.state.relaxModalOpen})}},a.state={workModalOpen:!1,relaxModalOpen:!1},a}return Object(_.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state,t=e.workModalOpen,a=e.relaxModalOpen;return i.a.createElement("div",{className:"content-bar"},i.a.createElement("div",{className:"work-list task-list"},i.a.createElement("div",{className:"list-header"},"\u0420\u0430\u0431\u043e\u0442\u0430"),t?i.a.createElement(Z,{mode:"work",modalToggler:this.modalToggler,text:"textWork",price:"priceWork"}):this.renderButton("work"),i.a.createElement(G,{mode:"work"})),i.a.createElement("div",{className:"relax-list task-list"},i.a.createElement("div",{className:"list-header list-header-white-theme"},"\u041e\u0442\u0434\u044b\u0445"),a?i.a.createElement(Z,{mode:"relax",modalToggler:this.modalToggler,text:"textRelax",price:"priceRelax"}):this.renderButton("relax"),i.a.createElement(G,{mode:"relax"})))}}]),t}(l.Component),te=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"todo"},i.a.createElement(k,null),i.a.createElement(j,null),i.a.createElement(ee,null))}}]),t}(l.Component),ae=(a(230),a(104)),ne=a(7),re=a(51),ce=a.n(re),se=a(235),le=a(237),ie=Object(se.a)((n={},Object(ne.a)(n,D,function(){return"requested"}),Object(ne.a)(n,A,function(){return"failed"}),Object(ne.a)(n,M,function(){return"finished"}),n),"none"),oe=Object(se.a)((r={},Object(ne.a)(r,M,function(e,t){var a=t.payload;return{byId:ce.a.keyBy(a.tasks,"id"),allIds:a.tasks.map(function(e){return e.id})}}),Object(ne.a)(r,B,function(e,t){var a=t.payload.task,n=e.byId,r=e.allIds;return{byId:Object(J.a)({},n,Object(ne.a)({},a.id,a)),allIds:[a.id].concat(Object(ae.a)(r))}}),Object(ne.a)(r,F,function(e,t){var a=t.payload.id,n=e.byId,r=e.allIds;return{byId:ce.a.omit(n,a),allIds:ce.a.without(r,a)}}),Object(ne.a)(r,W,function(e,t){var a=t.payload.id,n=e.byId[a],r="active"===n.state?"finished":"active",c=Object(J.a)({},n,{state:r});return Object(J.a)({},e,{byId:Object(J.a)({},e.byId,Object(ne.a)({},n.id,c))})}),r),{byId:{},allIds:[]}),de=Object(se.a)((c={},Object(ne.a)(c,V,function(e,t){var a=t.payload.price;return e+=Number.parseInt(a)}),Object(ne.a)(c,H,function(e,t){var a=t.payload.price;return e-=Number.parseInt(a)}),c),0),me=Object(u.c)({tasksDayFetchingState:ie,tasksDay:oe,ballance:de,form:le.a}),ue=window.__REDUX_DEVTOOLS_EXTENSION__,pe=ue&&ue(),be=Object(u.e)(me,Object(u.d)(Object(u.a)(m.a),pe));be.dispatch((s=Object(T.a)(S.a.mark(function e(t){var a,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(D()),e.prev=1,a=I(),e.next=5,w.a.get(a);case 5:n=e.sent,t(M({tasks:n.data})),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),t(A()),e.t0;case 13:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return s.apply(this,arguments)})),d.a.render(i.a.createElement(p.a,{store:be},i.a.createElement(te,null)),document.getElementById("root"))}},[[106,2,1]]]);
//# sourceMappingURL=main.b74a2195.chunk.js.map